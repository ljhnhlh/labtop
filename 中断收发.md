# 中断收发

## 功能说明：

使用中断进行串口1与PC的通信，PC往单片机发送数据，单片机将数据返回

## 程序流程图：

![d](C:\Users\林俊浩\Desktop\嵌软.png)

## 源码分析：



初始化： 选择Timer2做波特率，将EA 置位，将数据载入DPTR中，调用F_SendString1往PC发送初始字符串

![在这里插入图片描述](https://img-blog.csdnimg.cn/20181116175647241.png)

![在这里插入图片描述](https://img-blog.csdnimg.cn/20181116175836235.png)

波特率计算：

使用timer2：

![在这里插入图片描述](https://img-blog.csdnimg.cn/20181116180957834.png)

使用timer1：，设计了波特率的计算

![在这里插入图片描述](https://img-blog.csdnimg.cn/20181116181113454.png)





